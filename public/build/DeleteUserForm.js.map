{"version":3,"file":"DeleteUserForm.js","sources":["../../resources/js/Components/DangerButton.vue","../../resources/js/Components/Modal.vue","../../resources/js/Pages/Profile/Partials/DeleteUserForm.vue"],"sourcesContent":["<template>\n    <button\n        class=\"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150\"\n    >\n        <slot />\n    </button>\n</template>\n","<script setup>\nimport { computed, onMounted, onUnmounted, watch } from 'vue';\n\nconst props = defineProps({\n    show: {\n        type: Boolean,\n        default: false,\n    },\n    maxWidth: {\n        type: String,\n        default: '2xl',\n    },\n    closeable: {\n        type: Boolean,\n        default: true,\n    },\n});\n\nconst emit = defineEmits(['close']);\n\nwatch(\n    () => props.show,\n    () => {\n        if (props.show) {\n            document.body.style.overflow = 'hidden';\n        } else {\n            document.body.style.overflow = null;\n        }\n    }\n);\n\nconst close = () => {\n    if (props.closeable) {\n        emit('close');\n    }\n};\n\nconst closeOnEscape = (e) => {\n    if (e.key === 'Escape' && props.show) {\n        close();\n    }\n};\n\nonMounted(() => document.addEventListener('keydown', closeOnEscape));\n\nonUnmounted(() => {\n    document.removeEventListener('keydown', closeOnEscape);\n    document.body.style.overflow = null;\n});\n\nconst maxWidthClass = computed(() => {\n    return {\n        sm: 'sm:max-w-sm',\n        md: 'sm:max-w-md',\n        lg: 'sm:max-w-lg',\n        xl: 'sm:max-w-xl',\n        '2xl': 'sm:max-w-2xl',\n    }[props.maxWidth];\n});\n</script>\n\n<template>\n    <Teleport to=\"body\">\n        <Transition leave-active-class=\"duration-200\">\n            <div v-show=\"show\" class=\"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50\" scroll-region>\n                <Transition\n                    enter-active-class=\"ease-out duration-300\"\n                    enter-from-class=\"opacity-0\"\n                    enter-to-class=\"opacity-100\"\n                    leave-active-class=\"ease-in duration-200\"\n                    leave-from-class=\"opacity-100\"\n                    leave-to-class=\"opacity-0\"\n                >\n                    <div v-show=\"show\" class=\"fixed inset-0 transform transition-all\" @click=\"close\">\n                        <div class=\"absolute inset-0 bg-gray-500 opacity-75\" />\n                    </div>\n                </Transition>\n\n                <Transition\n                    enter-active-class=\"ease-out duration-300\"\n                    enter-from-class=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n                    enter-to-class=\"opacity-100 translate-y-0 sm:scale-100\"\n                    leave-active-class=\"ease-in duration-200\"\n                    leave-from-class=\"opacity-100 translate-y-0 sm:scale-100\"\n                    leave-to-class=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n                >\n                    <div\n                        v-show=\"show\"\n                        class=\"mb-6 bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto\"\n                        :class=\"maxWidthClass\"\n                    >\n                        <slot v-if=\"show\" />\n                    </div>\n                </Transition>\n            </div>\n        </Transition>\n    </Teleport>\n</template>\n","<script setup>\nimport DangerButton from '@/Components/DangerButton.vue';\nimport InputError from '@/Components/InputError.vue';\nimport InputLabel from '@/Components/InputLabel.vue';\nimport Modal from '@/Components/Modal.vue';\nimport SecondaryButton from '@/Components/SecondaryButton.vue';\nimport TextInput from '@/Components/TextInput.vue';\nimport { useForm } from '@inertiajs/vue3';\nimport { nextTick, ref } from 'vue';\n\nconst confirmingUserDeletion = ref(false);\nconst passwordInput = ref(null);\n\nconst form = useForm({\n    password: '',\n});\n\nconst confirmUserDeletion = () => {\n    confirmingUserDeletion.value = true;\n\n    nextTick(() => passwordInput.value.focus());\n};\n\nconst deleteUser = () => {\n    form.delete(route('profile.destroy'), {\n        preserveScroll: true,\n        onSuccess: () => closeModal(),\n        onError: () => passwordInput.value.focus(),\n        onFinish: () => form.reset(),\n    });\n};\n\nconst closeModal = () => {\n    confirmingUserDeletion.value = false;\n\n    form.reset();\n};\n</script>\n\n<template>\n    <section class=\"space-y-6\">\n        <header>\n            <h2 class=\"text-lg font-medium text-gray-900\">Delete Account</h2>\n\n            <p class=\"mt-1 text-sm text-gray-600\">\n                Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting\n                your account, please download any data or information that you wish to retain.\n            </p>\n        </header>\n\n        <DangerButton @click=\"confirmUserDeletion\">Delete Account</DangerButton>\n\n        <Modal :show=\"confirmingUserDeletion\" @close=\"closeModal\">\n            <div class=\"p-6\">\n                <h2 class=\"text-lg font-medium text-gray-900\">\n                    Are you sure you want to delete your account?\n                </h2>\n\n                <p class=\"mt-1 text-sm text-gray-600\">\n                    Once your account is deleted, all of its resources and data will be permanently deleted. Please\n                    enter your password to confirm you would like to permanently delete your account.\n                </p>\n\n                <div class=\"mt-6\">\n                    <InputLabel for=\"password\" value=\"Password\" class=\"sr-only\" />\n\n                    <TextInput\n                        id=\"password\"\n                        ref=\"passwordInput\"\n                        v-model=\"form.password\"\n                        type=\"password\"\n                        class=\"mt-1 block w-3/4\"\n                        placeholder=\"Password\"\n                        @keyup.enter=\"deleteUser\"\n                    />\n\n                    <InputError :message=\"form.errors.password\" class=\"mt-2\" />\n                </div>\n\n                <div class=\"mt-6 flex justify-end\">\n                    <SecondaryButton @click=\"closeModal\"> Cancel </SecondaryButton>\n\n                    <DangerButton\n                        class=\"ms-3\"\n                        :class=\"{ 'opacity-25': form.processing }\"\n                        :disabled=\"form.processing\"\n                        @click=\"deleteUser\"\n                    >\n                        Delete Account\n                    </DangerButton>\n                </div>\n            </div>\n        </Modal>\n    </section>\n</template>\n"],"names":["_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_hoisted_1","props","__props","emit","__emit","watch","close","closeOnEscape","e","onMounted","onUnmounted","maxWidthClass","computed","confirmingUserDeletion","ref","passwordInput","form","useForm","confirmUserDeletion","nextTick","deleteUser","closeModal"],"mappings":"ykBACI,SAAAA,EAAAC,EAAAC,EAAA,QAGYC,EAAA,EAAAC,EAAA,SAAAC,EAAA,wXCDhB,MAAMC,EAAQC,EAeRC,EAAOC,EAEbC,EACI,IAAMJ,EAAM,KACZ,IAAM,CACEA,EAAM,KACN,SAAS,KAAK,MAAM,SAAW,SAE/B,SAAS,KAAK,MAAM,SAAW,IAEtC,CACL,EAEA,MAAMK,EAAQ,IAAM,CACZL,EAAM,WACNE,EAAK,OAAO,CAEpB,EAEMI,EAAiBC,GAAM,CACrBA,EAAE,MAAQ,UAAYP,EAAM,MAC5BK,GAER,EAEAG,EAAU,IAAM,SAAS,iBAAiB,UAAWF,CAAa,CAAC,EAEnEG,EAAY,IAAM,CACd,SAAS,oBAAoB,UAAWH,CAAa,EACrD,SAAS,KAAK,MAAM,SAAW,IACnC,CAAC,EAED,MAAMI,EAAgBC,EAAS,KACpB,CACH,GAAI,cACJ,GAAI,cACJ,GAAI,cACJ,GAAI,cACJ,MAAO,cACf,GAAMX,EAAM,QAAQ,CACnB,ywEChDD,MAAMY,EAAyBC,EAAI,EAAK,EAClCC,EAAgBD,EAAI,IAAI,EAExBE,EAAOC,EAAQ,CACjB,SAAU,EACd,CAAC,EAEKC,EAAsB,IAAM,CAC9BL,EAAuB,MAAQ,GAE/BM,EAAS,IAAMJ,EAAc,MAAM,MAAO,CAAA,CAC9C,EAEMK,EAAa,IAAM,CACrBJ,EAAK,OAAO,MAAM,iBAAiB,EAAG,CAClC,eAAgB,GAChB,UAAW,IAAMK,EAAY,EAC7B,QAAS,IAAMN,EAAc,MAAM,MAAO,EAC1C,SAAU,IAAMC,EAAK,MAAO,CACpC,CAAK,CACL,EAEMK,EAAa,IAAM,CACrBR,EAAuB,MAAQ,GAE/BG,EAAK,MAAK,CACd"}